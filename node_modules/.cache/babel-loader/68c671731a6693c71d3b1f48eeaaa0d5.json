{"remainingRequest":"D:\\101_practice\\vue\\docTest\\vueSLY\\node_modules\\babel-loader\\lib\\index.js!D:\\101_practice\\vue\\docTest\\vueSLY\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\101_practice\\vue\\docTest\\vueSLY\\src\\utils\\getJsonp.js","dependencies":[{"path":"D:\\101_practice\\vue\\docTest\\vueSLY\\src\\utils\\getJsonp.js","mtime":1554191645450},{"path":"D:\\101_practice\\vue\\docTest\\vueSLY\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\101_practice\\vue\\docTest\\vueSLY\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\101_practice\\vue\\docTest\\vueSLY\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport _Promise from \"D:\\\\101_practice\\\\vue\\\\docTest\\\\vueSLY\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\n\n//jsonp\nvar getJSONP = function getJSONP(url, data, param) {\n  if (!url) {\n    console.error('缺少url参数!');\n    return;\n  }\n\n  if (!param) {\n    param = 'jsonpCallback';\n  }\n\n  return new _Promise(function (resolve, reject) {\n    window[param] = function (result) {\n      resolve(result);\n    };\n\n    var JSONP = document.createElement(\"script\");\n    var datas = getDatas(data);\n    var time = Number(new Date());\n    JSONP.type = \"text/javascript\";\n    JSONP.src = \"\".concat(url, \"?jsonp=\").concat(param, \"&\").concat(datas, \"_s=\").concat(time);\n    document.getElementsByTagName(\"head\")[0].appendChild(JSONP);\n    setTimeout(function () {\n      document.getElementsByTagName(\"head\")[0].removeChild(JSONP);\n    }, 500);\n  });\n};\n\nvar getDatas = function getDatas(data) {\n  if (data) {\n    var d = '';\n\n    for (var key in data) {\n      d += key + '=' + data[key] + '&';\n    }\n\n    return d;\n  } else {\n    return false;\n  }\n};\n\nexport default getJSONP;",{"version":3,"sources":["D:\\101_practice\\vue\\docTest\\vueSLY\\src\\utils\\getJsonp.js"],"names":["getJSONP","url","data","param","console","error","resolve","reject","window","result","JSONP","document","createElement","datas","getDatas","time","Number","Date","type","src","getElementsByTagName","appendChild","setTimeout","removeChild","d","key"],"mappings":";;;AAAA;AACA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,KAAZ,EAAsB;AACnC,MAAI,CAACF,GAAL,EAAU;AACNG,IAAAA,OAAO,CAACC,KAAR,CAAc,UAAd;AACA;AACH;;AACD,MAAG,CAACF,KAAJ,EAAU;AACNA,IAAAA,KAAK,GAAG,eAAR;AACH;;AACD,SAAO,aAAY,UAACG,OAAD,EAAUC,MAAV,EAAqB;AACpCC,IAAAA,MAAM,CAACL,KAAD,CAAN,GAAgB,UAACM,MAAD,EAAY;AACxBH,MAAAA,OAAO,CAACG,MAAD,CAAP;AACH,KAFD;;AAGA,QAAIC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAZ;AACA,QAAIC,KAAK,GAAGC,QAAQ,CAACZ,IAAD,CAApB;AACA,QAAIa,IAAI,GAAGC,MAAM,CAAC,IAAIC,IAAJ,EAAD,CAAjB;AACAP,IAAAA,KAAK,CAACQ,IAAN,GAAa,iBAAb;AACAR,IAAAA,KAAK,CAACS,GAAN,aAAelB,GAAf,oBAA4BE,KAA5B,cAAqCU,KAArC,gBAAgDE,IAAhD;AACAJ,IAAAA,QAAQ,CAACS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDX,KAArD;AACAY,IAAAA,UAAU,CAAC,YAAM;AACbX,MAAAA,QAAQ,CAACS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCG,WAAzC,CAAqDb,KAArD;AACH,KAFS,EAEP,GAFO,CAAV;AAGH,GAbM,CAAP;AAcH,CAtBD;;AAwBA,IAAMI,QAAQ,GAAG,SAAXA,QAAW,CAACZ,IAAD,EAAU;AACvB,MAAIA,IAAJ,EAAU;AACN,QAAIsB,CAAC,GAAG,EAAR;;AACA,SAAK,IAAIC,GAAT,IAAgBvB,IAAhB,EAAsB;AAClBsB,MAAAA,CAAC,IAAIC,GAAG,GAAG,GAAN,GAAYvB,IAAI,CAACuB,GAAD,CAAhB,GAAwB,GAA7B;AACH;;AACD,WAAOD,CAAP;AACH,GAND,MAMO;AACH,WAAO,KAAP;AACH;AACJ,CAVD;;AAYA,eAAexB,QAAf","sourcesContent":["//jsonp\r\nconst getJSONP = (url, data, param) => {\r\n    if (!url) {\r\n        console.error('缺少url参数!')\r\n        return;\r\n    }\r\n    if(!param){\r\n        param = 'jsonpCallback';\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        window[param] = (result) => {\r\n            resolve(result)\r\n        }\r\n        var JSONP = document.createElement(\"script\");\r\n        var datas = getDatas(data);\r\n        var time = Number(new Date());\r\n        JSONP.type = \"text/javascript\";\r\n        JSONP.src = `${url}?jsonp=${param}&${datas}_s=${time}`;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(JSONP);\r\n        setTimeout(() => {\r\n            document.getElementsByTagName(\"head\")[0].removeChild(JSONP)\r\n        }, 500)\r\n    })\r\n}\r\n\r\nconst getDatas = (data) => {\r\n    if (data) {\r\n        let d = '';\r\n        for (let key in data) {\r\n            d += key + '=' + data[key] + '&';\r\n        }\r\n        return d;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport default getJSONP;\r\n\r\n"]}]}